<!DOCTYPE html>
<html lang="zh-CN" class="antialiased scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æµå…‰å­˜æ ¹ | Digital Garden v62.4 DATA_VIS_PERFECTED</title>
    
    <!-- æ ¸å¿ƒ CSS å¼•æ“ -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        leviathan: {
                            bg: '#0c0b0a',
                            surface: 'var(--surface-color)',
                            border: 'var(--border-color)',
                            accent: '#e3b341',
                        }
                    },
                    fontFamily: {
                        serif: ['"Noto Serif SC"', 'serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    animation: {
                        'fade-in-pro': 'fadeIn 1s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'slide-up': 'slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'scan-line': 'scanline 8s linear infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'blizzard': 'blizzard 30s linear infinite',
                        'dash': 'dash 2s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { opacity: '0', transform: 'translateY(15px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        blizzard: {
                            '0%': { backgroundPosition: '0 0, 0 0, 0 0' },
                            '100%': { backgroundPosition: '400px 1200px, 200px 600px, 100px 400px' }
                        },
                        dash: { from: { strokeDashoffset: '1000' }, to: { strokeDashoffset: '0' } }
                    }
                }
            }
        }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;400;700&family=JetBrains+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <style>
        :root {
            --glass-blur: 16px; 
            --amber-primary: #e3b341;
            --transition-speed: 2s;
            --surface-color: rgba(20, 25, 30, 0.65);
            --border-color: rgba(255, 255, 255, 0.08);
        }

        html { background-color: #0c0b0a; margin: 0; overflow-x: hidden; }
        
        body { 
            background: radial-gradient(circle at 50% 30%, #1e293b 0%, #020617 100%);
            color: #ffffff; min-height: 100vh; font-family: "Noto Serif SC", serif;
        }

        /* èƒŒæ™¯å±‚ */
        .bg-layer {
            position: fixed; inset: 0; 
            background-size: cover; background-position: center;
            background-repeat: no-repeat;
            transition: opacity var(--transition-speed) ease-in-out;
            pointer-events: none;
            z-index: -50;
            background-color: #101214; 
            filter: brightness(0.85) contrast(1.15) sepia(0.05) saturate(0.8);
        }
        
        .snow-blizzard {
            position: fixed; inset: 0; pointer-events: none; z-index: -45;
            background-image: 
                radial-gradient(3px 3px at 100px 50px, rgba(255,255,255,0.8), transparent),
                radial-gradient(4px 4px at 200px 150px, rgba(255,255,255,0.7), transparent),
                radial-gradient(2px 2px at 300px 250px, rgba(255,255,255,0.6), transparent);
            background-size: 500px 500px, 400px 400px, 300px 300px;
            animation: blizzard 30s linear infinite;
            opacity: 0.35;
            mix-blend-mode: screen;
        }
        
        .vignette {
            position: fixed; inset: 0; z-index: -40;
            background: radial-gradient(circle at center, rgba(0,0,0,0) 20%, rgba(2, 6, 23, 0.7) 100%);
            pointer-events: none;
        }

        .layout-container {
            max-width: 1440px; margin: 0 auto; padding: 5rem 2rem 2rem 2rem;
            position: relative; z-index: 10;
        }

        /* é¡¶éƒ¨ Header æ ·å¼ */
        header { display: flex; flex-direction: column; justify-content: space-between; align-items: flex-start; gap: 10px; margin-bottom: 20px; }
        header h1 { font-size: 5xl; font-weight: 900; letter-spacing: 0.2em; cursor: default; }
        header p { font-size: 0.875rem; font-style: italic; color: #aaa; }
        .header-circle-btn { width:44px; height:44px; border-radius:9999px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1); display:flex; align-items:center; justify-content:center; cursor:pointer; transition: all 0.3s ease; }
        .header-circle-btn:hover { border-color: rgba(227,179,65,0.5); color:#e3b341; }
        .dropdown-menu { opacity:0; visibility:hidden; transform: translateY(10px) scale(0.95); transition: all 0.3s; position:absolute; top:3.5rem; right:0; background: rgba(12,13,17,0.95); border:1px solid rgba(255,255,255,0.1); backdrop-filter: blur(24px); border-radius:20px; padding:1.5rem; z-index:50; min-width:280px; }
        .dropdown-menu.active { opacity:1; visibility:visible; transform: translateY(0) scale(1); }
    </style>
</head>
<body class="opacity-0 animate-fade-in-pro">

    <div id="bg-layer-1" class="bg-layer"></div>
    <div id="bg-layer-2" class="bg-layer" style="opacity:0"></div>
    <div class="snow-blizzard"></div>
    <div class="vignette"></div>

    <div class="layout-container">
        <!-- Header -->
        <header class="flex flex-col lg:flex-row justify-between items-end gap-10 mb-10">
            <div class="w-full">
                <h1 class="hover:text-amber-500 transition-all duration-1000">æµå…‰å­˜æ ¹</h1>
                <p>å…·ä½“çš„ç”Ÿæ´»ï¼Œæ˜¯æŠµå¾¡è™šæ— çš„æœ€åä¸€é“é˜²çº¿ã€‚</p>
            </div>
            
            <div class="flex items-center gap-4 relative">
                <!-- Search -->
                <div id="searchPill" class="header-circle-btn overflow-hidden w-11 h-11" onclick="GardenOS.ui.activateSearch()">
                    <i id="searchIcon" class="ri-search-line text-lg text-white/50"></i>
                    <input type="text" id="headerSearchInput" onkeyup="GardenOS.ui.search(this.value)" onblur="GardenOS.ui.deactivateSearch()" class="hidden w-full bg-transparent border-0 outline-none text-xs font-mono text-white placeholder-white/30 h-full ml-2" placeholder="SEARCH...">
                </div>
                <!-- AI Button -->
                <div id="aiBtn" onclick="GardenOS.ui.toggleDropdown('aiMenu')" class="header-circle-btn h-11 w-11 text-white/50 hover:text-amber-500 hover:border-amber-500/50">
                     <i class="ri-brain-line text-lg"></i>
                </div>
                <div id="aiMenu" class="dropdown-menu">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                        <span class="text-[10px] font-mono tracking-widest text-amber-500">DEEPSEEK_ONLINE</span>
                        <span id="aiUsageText" class="text-[9px] text-gray-500 ml-auto">0/15</span>
                    </div>
                    <div class="h-48 overflow-y-auto custom-scroll mb-4 border border-white/5 rounded-xl p-3 bg-black/20 text-xs text-gray-300 font-serif leading-relaxed" id="aiChatLog">
                        <span class="opacity-50">ç¥ç»é“¾è·¯å·²è¿æ¥ã€‚<br>æ­£åœ¨è¯»å–å…¨ç«™æ•°æ®...<br>å°±ç»ªã€‚</span>
                    </div>
                    <div class="relative">
                        <input type="text" id="aiHeaderInput" onkeypress="GardenOS.api.handleAIInput(event)" class="w-full bg-white/5 border border-white/10 rounded-lg py-2 pl-3 pr-8 text-xs font-mono text-white outline-none focus:border-amber-500" placeholder="Ask AI...">
                        <i class="ri-corner-down-left-line absolute right-2 top-2 text-white/20 text-xs"></i>
                    </div>
                </div>
                <!-- Login -->
                <div onclick="GardenOS.ui.toggleLogin(true)" class="header-circle-btn h-11 w-11 text-white/50 hover:text-amber-500 hover:border-amber-500/50 cursor-pointer" title="Login">
                     <i id="lockIcon" class="ri-user-3-line text-lg"></i>
                </div>
            </div>
        </header>

    <script>
        const ASSET_MANIFEST = { winter: { night: ['1518536862590-b0c6096054d5'], morning: [], noon: [], sunset: [] } };

        const GardenOS = {
            config: { secret: 'Zjx207661', storageKey: 'garden_v62_4_db', deepSeekApiKey: 'sk-437d432e53664e489b60a9349619a879', dailyLimit: 15 },
            state: { isAuthorized: false, currentSeason: 'winter', currentPhase: 'night', activeBgLayer: 1 },

            api: {
                getUsage() { const t=new Date().toDateString(), u=JSON.parse(localStorage.getItem('garden_ai_usage')||'{}'); return u.date!==t?{date:t,count:0}:u; },
                updateUsage(c) { localStorage.setItem('garden_ai_usage', JSON.stringify({date:new Date().toDateString(),count:c})); document.getElementById('aiUsageText').innerText=`${c}/15`; },
                async handleAIInput(e) {
                    if(e.key==='Enter'){
                        const val=e.target.value.trim(); if(!val) return;
                        const usage=this.getUsage();
                        if(usage.count>=GardenOS.config.dailyLimit){ alert("Limit reached"); return; }
                        const log=document.getElementById('aiChatLog'); log.innerHTML+=`<div class="mb-2 text-white">> ${val}</div>`; e.target.value='';
                        const res=await this.callDeepSeek(val,""); log.innerHTML+=`<div class="mb-4 text-amber-500 text-xs font-mono">${res}</div>`;
                        this.updateUsage(usage.count+1);
                    }
                },
                async callDeepSeek(p,c){
                    if(!GardenOS.config.deepSeekApiKey) return "[OFFLINE]";
                    try{
                        const r=await fetch('https://api.deepseek.com/chat/completions',{
                            method:'POST',
                            headers:{'Content-Type':'application/json','Authorization':`Bearer ${GardenOS.config.deepSeekApiKey}`},
                            body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:c},{role:"user",content:p}]})
                        });
                        const d=await r.json(); return d.choices[0].message.content;
                    }catch(e){ return "Error: "+e.message; }
                }
            },

            ui: {
                activateSearch(){ document.getElementById('searchPill').style.width='240px'; document.getElementById('headerSearchInput').classList.remove('hidden'); document.getElementById('headerSearchInput').focus(); },
                deactivateSearch(){ if(!document.getElementById('headerSearchInput').value){ document.getElementById('headerSearchInput').classList.add('hidden'); document.getElementById('searchPill').style.width='44px'; } },
                search(v){ document.querySelectorAll('.searchable-item').forEach(el=>el.style.display=el.innerText.toLowerCase().includes(v.toLowerCase())?'':'none'); },
                toggleLogin(s){ document.getElementById('loginModal').style.display=s?'flex':'none'; },
                toggleDropdown(id){ const el=document.getElementById(id); ['aiMenu'].forEach(mid=>{if(mid!==id) document.getElementById(mid).classList.remove('active');}); el.classList.toggle('active');}
            },

            environment: {
                sync(force){ 
                    const id=ASSET_MANIFEST.winter.night[0]; 
                    const url=`https://images.unsplash.com/photo-${id}?ixlib=rb-4.0.3&auto=format&fit=crop&q=80&w=2400`;
                    document.getElementById('bg-layer-1').style.backgroundImage=`url('${url}')`;
                    document.getElementById('bg-layer-1').style.opacity='1';
                }
            }
        };

        window.addEventListener('load',()=>{ GardenOS.environment.sync(true); });
    </script>
        <main class="titan-matrix">
            <!-- M1 -->
            <div class="glass-cell card-m1 flex flex-col justify-between group h-full">
                <div>
                    <span class="precision-tag text-amber-500">Neural_Scale_v62.4</span>
                    <h2 class="text-4xl font-bold font-serif mt-12 mb-8 tracking-wide whitespace-nowrap">ç”Ÿæ´»åˆ»åº¦</h2>
                    <div class="space-y-10">
                        <div>
                            <div class="flex justify-between text-[11px] font-mono opacity-40 mb-3 uppercase tracking-[0.5em]"><span>Entropy_Index</span><span id="valEntropy" class="text-amber-500 font-black">95.00%</span></div>
                            <div class="h-[1px] w-full bg-white/10 relative overflow-hidden"><div class="absolute h-full bg-white w-[95%] shadow-[0_0_20px_white]"></div></div>
                        </div>
                        <p id="valQuote" class="text-lg italic text-gray-300 font-serif leading-relaxed opacity-90 max-w-sm mt-8">â€œä¸‡ç‰©çš†æœ‰è£‚ç—•ï¼Œé‚£æ˜¯å…‰è¿›æ¥çš„åœ°æ–¹ã€‚â€</p>
                    </div>
                </div>
                <div class="flex gap-20 pt-10 border-t border-white/10">
                    <div><div class="text-3xl font-mono font-light tracking-tighter"><span id="valWeight">55.0</span> <span class="text-[10px] opacity-30 uppercase font-black">Kg</span></div><div class="precision-tag mt-3 opacity-50">Mass</div></div>
                    <div><div class="text-3xl font-mono font-light tracking-tighter"><span id="valVitality">98</span> <span class="text-[10px] opacity-30 uppercase font-black">En</span></div><div class="precision-tag mt-3 opacity-50">Vitality</div></div>
                </div>
            </div>

            <!-- M3 -->
            <div id="ingestCard" class="glass-cell card-m3 flex flex-col justify-between">
                <div class="flex justify-between items-center mb-8"><span class="precision-tag text-white/40">// Ingest_Record</span><i class="ri-book-read-line text-white/20 text-xl"></i></div>
                <div id="ingestListContainer" class="overflow-y-auto custom-scroll h-full pr-3"><div id="ingestList" class="space-y-6"></div></div>
            </div>

            <!-- M2 -->
            <div id="memoCard" class="glass-cell card-m2 flex flex-col justify-start">
                <div class="flex justify-between items-center mb-6 pb-4 border-b border-white/10"><span class="precision-tag text-amber-500/60 tracking-widest">Fragmented_Echoes</span><i class="ri-chat-history-line text-white/20 text-xl"></i></div>
                <div id="memoList" class="w-full h-full overflow-y-auto custom-scroll pr-3 space-y-6 max-h-[160px]"></div>
            </div>

            <!-- Writing -->
            <div id="writingDeck" class="glass-cell card-writing flex flex-col justify-center items-center relative overflow-hidden group cursor-pointer" onclick="GardenOS.ui.toggleWritingDeck()">
                <div class="absolute inset-0 bg-black/60 group-hover:bg-black/40 transition-colors duration-1000"></div>
                <div id="writingCover" class="text-center relative z-10 transition-all duration-700">
                    <i class="ri-quill-pen-line text-4xl text-amber-500 mb-10 block animate-pulse"></i>
                    <h3 class="text-3xl lg:text-3xl font-serif italic text-white mb-8 tracking-[0.2em] leading-loose">â€œæ–‡å­—æ˜¯æ•è·æ—¶é—´çš„ç½‘ï¼Œ<br>æ‰“ææ²‰æ²¡çš„å²æœˆã€‚â€</h3>
                    <span class="precision-tag tracking-[1em] text-white/20 uppercase">Click to open archive</span>
                </div>
                <div id="writingList" class="hidden w-full max-w-5xl relative z-10 animate-fade-in-pro grid grid-cols-1 md:grid-cols-3 gap-10 p-8">
                     <a href="https://shade-plant-9cc.notion.site/2cd5c4b326c88025b72fd4fd1574d4c9?source=copy_link" target="_blank" class="bg-[#0c0d11]/90 p-10 rounded-[40px] border border-amber-500/20 hover:border-amber-500 hover:bg-black/90 transition-all group/item shadow-3xl relative block transform hover:-translate-y-2 searchable-item">
                        <div class="absolute top-0 left-0 w-1.5 h-full bg-amber-500 rounded-l-[40px]"></div>
                        <div class="flex justify-between items-center mb-6"><h4 class="text-2xl font-serif italic font-bold text-white group-hover/item:text-amber-500">é“œå·å¾€äº‹</h4><i class="ri-external-link-line text-white/30 group-hover/item:text-amber-500 text-2xl"></i></div>
                        <p class="text-sm text-gray-400 font-serif leading-loose opacity-80">è¢«æŠ˜å çš„æ—¶é—´ç¢ç‰‡ï¼Œä¸ªä½“åœ¨å®å¤§å™äº‹ç¼éš™ä¸­çš„å‘¼å¸ã€‚</p>
                        <div class="mt-8"><span class="text-[10px] border border-white/20 px-3 py-1 rounded-full text-white/40 uppercase tracking-wider">Novel</span></div>
                    </a>
                    <div id="dynamicWritingContainer" class="contents"></div>
                </div>
            </div>

            <!-- M5 -->
            <div class="glass-cell card-m5">
                <div class="flex justify-between items-center mb-12"><span class="precision-tag text-white/30 tracking-[4em] uppercase">// Sensory_Laboratory</span><i class="ri-eye-2-line text-white/10 text-2xl"></i></div>
                <div id="sensoryGrid" class="grid grid-cols-2 md:grid-cols-5 gap-10">
                    <button class="flex flex-col items-center gap-5 group/btn searchable-item"><div class="w-16 h-16 bg-white/[0.04] rounded-[24px] flex items-center justify-center text-4xl border border-white/5 group-hover/btn:bg-amber-500/20 transition-all shadow-xl">â›©ï¸</div><span class="precision-tag opacity-40 group-hover/btn:opacity-100">Anime</span></button>
                    <button class="flex flex-col items-center gap-5 group/btn searchable-item"><div class="w-16 h-16 bg-white/[0.04] rounded-[24px] flex items-center justify-center text-4xl border border-white/5 group-hover/btn:bg-amber-500/20 transition-all shadow-xl">ğŸ•¹ï¸</div><span class="precision-tag opacity-40 group-hover/btn:opacity-100">Game</span></button>
                    <button class="flex flex-col items-center gap-5 group/btn searchable-item"><div class="w-16 h-16 bg-white/[0.04] rounded-[24px] flex items-center justify-center text-4xl border border-white/5 group-hover/btn:bg-amber-500/20 transition-all shadow-xl">ğŸ¬</div><span class="precision-tag opacity-40 group-hover/btn:opacity-100">Film</span></button>
                    <button class="flex flex-col items-center gap-5 group/btn searchable-item"><div class="w-16 h-16 bg-white/[0.04] rounded-[24px] flex items-center justify-center text-4xl border border-white/5 group-hover/btn:bg-amber-500/20 transition-all shadow-xl">ğŸŒ²</div><span class="precision-tag opacity-40 group-hover/btn:opacity-100">Vista</span></button>
                    <button class="flex flex-col items-center gap-5 group/btn searchable-item"><div class="w-16 h-16 bg-white/[0.04] rounded-[24px] flex items-center justify-center text-4xl border border-white/5 group-hover/btn:bg-amber-500/20 transition-all shadow-xl">ğŸ“»</div><span class="precision-tag opacity-40 group-hover/btn:opacity-100">Audio</span></button>
                </div>
            </div>
            <!-- M6: èµ„äº§ç»ˆç«¯ (Wealth_Pulse) -->
            <div class="glass-cell card-m6 min-h-[440px] overflow-hidden">
                <div class="flex justify-between items-start mb-14">
                    <span class="precision-tag text-white/30 tracking-[4em] uppercase">Wealth_Pulse</span>
                    <div class="flex items-center gap-3">
                         <button onclick="GardenOS.ui.switchChart('pie')" id="btnPie" class="text-[10px] text-amber-500 hover:text-white font-bold transition-colors">DISTRIBUTION</button>
                         <span class="text-white/20">|</span>
                         <button onclick="GardenOS.ui.switchChart('trend')" id="btnTrend" class="text-[10px] text-white/50 hover:text-amber-500 font-bold transition-colors">TREND</button>
                    </div>
                </div>
                <div class="flex flex-col lg:flex-row gap-12 h-full">
                    <!-- å·¦ä¾§èµ„äº§åˆ—è¡¨ -->
                    <div id="assetList" class="w-full lg:w-1/3 flex flex-col gap-2 pr-2 h-full">
                        <!-- JS å¡«å…… -->
                    </div>
                    
                    <!-- å³ä¾§å¯è§†åŒ– -->
                    <div id="vizContainer" class="w-full lg:w-2/3 bg-black/40 rounded-[48px] border border-white/5 relative overflow-hidden flex flex-col items-center justify-center p-8 shadow-inner">
                        <!-- é¥¼å›¾ -->
                        <div id="pieChart" class="chart-wrapper w-full h-full">
                            <div class="pie-layout">
                                <div class="pie-chart"></div>
                                <div class="pie-legend">
                                    <div class="legend-item"><div class="legend-dot bg-[#e3b341]"></div> <span id="legFunds">FUNDS 77%</span></div>
                                    <div class="legend-item"><div class="legend-dot bg-[#10b981]"></div> <span id="legStocks">STOCKS 0%</span></div>
                                    <div class="legend-item"><div class="legend-dot bg-[#3b82f6]"></div> <span id="legCrypto">CRYPTO 16%</span></div>
                                    <div class="legend-item"><div class="legend-dot bg-[#a8a29e]"></div> <span id="legMetal">METAL 7%</span></div>
                                </div>
                            </div>
                            <div class="pie-label-container absolute" style="left: -80px;">
                                <span class="text-xl font-mono font-bold text-white mb-1">Total</span>
                            </div>
                        </div>
                        
                        <!-- è¶‹åŠ¿å›¾ -->
                        <div id="trendChart" class="chart-wrapper hidden w-full h-full relative p-4">
                            <svg class="trend-chart" viewBox="0 0 300 150">
                                <defs>
                                    <linearGradient id="grad1" x1="0%" y1="0%" x2="0%" y2="100%">
                                        <stop offset="0%" style="stop-color:rgb(227, 179, 65);stop-opacity:0.2" />
                                        <stop offset="100%" style="stop-color:rgb(227, 179, 65);stop-opacity:0" />
                                    </linearGradient>
                                </defs>
                                <path class="trend-area" d="" fill="url(#grad1)"/>
                                <polyline class="trend-line" points="" style="fill:none;stroke:#e3b341;stroke-width:2;" />
                            </svg>
                            <div id="xAxisLabels" class="absolute bottom-2 left-0 w-full flex justify-between px-6 pointer-events-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div id="fabPublish" onclick="GardenOS.ui.toggleWatcher(true)" class="fab-publish"><i class="ri-add-line"></i></div>
    </div>

    <!-- ä¾§è¾¹æ  WATCHER -->
    <aside id="watcherDrawer" class="fixed top-0 right-[-100%] h-full bg-[#0c0b0a]/98 backdrop-blur-3xl border-l border-white/10 z-[200] transition-all duration-1000 cubic-bezier(0.16, 1, 0.3, 1) p-12 flex flex-col no-scrollbar shadow-3xl overflow-y-auto watcher-drawer-width">
        <div class="flex justify-between items-center mb-12">
            <h2 class="text-3xl font-serif italic font-black tracking-[0.2em] uppercase text-white">COMMAND_CTR</h2>
            <button onclick="GardenOS.ui.toggleWatcher(false)" class="p-4 text-2xl text-gray-500 hover:text-white transition-all hover:rotate-90">âœ•</button>
        </div>
        <div class="flex-grow flex flex-col">
            <div id="adminPostArea" class="hidden mb-12 p-8 bg-white/[0.02] border border-amber-500/20 rounded-[48px] space-y-6 animate-fade-in-pro shadow-2xl">
                <div class="flex justify-between items-center mb-4">
                    <span class="precision-tag text-amber-500 font-black tracking-[0.5em] uppercase">Control_Matrix</span>
                    <div class="w-2.5 h-2.5 bg-green-500 rounded-full animate-ping"></div>
                </div>
                <div class="space-y-5">
                    <select id="postTarget" class="w-full bg-black/70 border border-white/10 rounded-xl p-5 text-xs font-mono text-white outline-none focus:border-amber-500 cursor-pointer">
                        <option value="memo">ç¢ç¢å¿µ</option>
                        <option value="writing">å†™ä½œåŒº</option>
                        <option value="ingest">æ‘„å…¥åŒº</option>
                        <option value="sensory">æ„Ÿå®˜åŒº</option>
                        <option value="assets">èµ„äº§åŒº</option>
                        <option value="status">ç”Ÿå‘½ä½“å¾</option>
                    </select>
                    <input type="text" id="postTitle" class="w-full bg-black/70 border border-white/10 rounded-xl p-5 text-xs font-mono text-white outline-none focus:border-amber-500" placeholder="TITLE / BOOK NAME / WEIGHT">
                    <div class="grid grid-cols-2 gap-4">
                        <input type="text" id="linkText" class="bg-black/70 border border-white/10 rounded-xl p-5 text-xs font-mono text-white outline-none focus:border-amber-500" placeholder="LABEL / ENTROPY">
                        <input type="text" id="linkUrl" class="bg-black/70 border border-white/10 rounded-xl p-5 text-xs font-mono text-white outline-none focus:border-amber-500" placeholder="URL">
                    </div>
                    <input type="text" id="postImage" class="w-full bg-black/70 border border-white/10 rounded-xl p-5 text-xs font-mono text-white outline-none focus:border-amber-500" placeholder="IMAGE_URL / VITALITY">
                    <textarea id="postContent" class="w-full bg-black/70 border border-white/10 rounded-xl p-5 text-xs font-serif italic text-gray-300 outline-none focus:border-amber-500 h-36" placeholder="Content..."></textarea>
                    <button onclick="GardenOS.cms.createPost()" class="w-full py-5 bg-amber-500 text-black font-black uppercase tracking-[0.8em] text-[10px] rounded-2xl shadow-glow active:scale-95 transition-all">EXECUTE_PUBLISH</button>
                </div>
            </div>
            <div id="aiResponseSide" class="min-h-[120px] font-serif italic text-gray-400 p-8 bg-white/[0.01] rounded-[32px] border-l-4 border-white/10 mb-8 leading-relaxed text-sm">
                <span class="text-white/20 font-mono">SYSTEM_LOG:</span> ç­‰å¾…å‘å¸ƒæŒ‡ä»¤...
            </div>
        </div>
    </aside>

    <!-- ç™»å½•æ¨¡æ€ -->
    <div id="loginModal" class="fixed inset-0 bg-black/98 z-[500] hidden items-center justify-center p-6 backdrop-blur-3xl">
        <div class="bg-[#0c0d11] p-12 rounded-[56px] border border-white/10 w-full max-w-md text-center shadow-3xl relative overflow-hidden">
            <span class="precision-tag mb-10 block tracking-[0.6em] text-amber-500 font-black relative z-10">Root_Identity_Auth</span>
            <input type="password" id="authKeyInput" class="w-full bg-white/5 border border-white/10 rounded-[32px] p-8 text-center text-2xl font-mono text-white mb-10 tracking-[0.5em] focus:border-amber-500 outline-none shadow-inner relative z-10">
            <div class="flex gap-5 relative z-10">
                <button onclick="GardenOS.ui.toggleLogin(false)" class="flex-1 precision-tag py-6 hover:text-white transition-all tracking-[0.5em] text-[10px]">Abort</button>
                <button onclick="GardenOS.auth.verify()" class="flex-1 py-6 bg-white/5 border border-white/10 rounded-[24px] font-black text-amber-500 tracking-[1em] text-[11px] hover:bg-white/10 active:scale-95 transition-all shadow-xl">Connect</button>
            </div>
        </div>
    </div>

    <!-- JS è„šæœ¬ (èƒŒæ™¯ç³»ç»Ÿã€AIã€å‘å¸ƒã€ç™»å½•é€»è¾‘) -->
    <script>
        const ASSET_MANIFEST = { 
            winter: { 
                night: ['1518536862590-b0c6096054d5', '1478131143081-80f7f84ca84d'], 
                morning: ['1483921020237-603db42bf712'], 
                noon: ['1517299321609-52c1da131a1f'], 
                sunset: ['1519757609205-09d577484df8'] 
            } 
        };

        const GardenOS = {
            config: { secret: 'Zjx207661', storageKey: 'garden_v62_4_db', deepSeekApiKey: 'sk-437d432e53664e489b60a9349619a879', dailyLimit: 15 },
            state: { isAuthorized: false, currentSeason: 'winter', currentPhase: 'night', activeBgLayer: 1, lastLoadedUrl: '' },
            data: { defaultContent: { assets: [{title:'01 // FUNDS',content:'700.00',val:700},{title:'02 // STOCKS',content:'0.00',val:0},{title:'03 // CRYPTO',content:'150.00',val:150},{title:'04 // METAL',content:'60.00 GR',val:60}], ingest:{title:'ã€ŠçŒ®ç»™é˜¿å°”å‰ä¾¬çš„èŠ±æŸã€‹',content:'æ™ºæ…§æ˜¯å­¤ç‹¬çš„è§£è¯ã€‚'}, memo:'â€œå²æœˆä¸è¯­ï¼Œå”¯æœ‰æ–‡å­—èƒ½åœ¨å¤§é›ªä¸­å–æš–ã€‚â€'} },

            boot() { this.auth.init(); this.environment.sync(true); this.temporal.init(); this.ui.init(); this.cms.renderAll(); setInterval(()=>this.environment.checkUpdate(),30000); },

            auth: {
                init() { const stored=JSON.parse(localStorage.getItem(GardenOS.config.storageKey)||'{}'); if(stored.isAuthorized){ GardenOS.state.isAuthorized=true; GardenOS.ui.updateAuthUI(true); } },
                verify() { const val=document.getElementById('authKeyInput').value; if(val===GardenOS.config.secret){ GardenOS.state.isAuthorized=true; localStorage.setItem(GardenOS.config.storageKey, JSON.stringify({isAuthorized:true})); GardenOS.ui.toggleLogin(false); GardenOS.ui.updateAuthUI(true);} }
            },

            temporal: { init(){ this.tick(); setInterval(()=>this.tick(),1000); }, tick(){ const clock=document.getElementById('clockDisplay'); if(clock) clock.innerText=new Date().toLocaleTimeString('en-GB',{hour12:false}); } },

            environment: { 
                sync(force){ const id=ASSET_MANIFEST.winter.night[0]; const url=`https://images.unsplash.com/photo-${id}?ixlib=rb-4.0.3&auto=format&fit=crop&q=80&w=2400`; document.getElementById('bg-layer-1').style.backgroundImage=`url('${url}')`; document.getElementById('bg-layer-1').style.opacity='1'; },
                checkUpdate(){}
            },

            ui: { 
                toggleLogin(s){ document.getElementById('loginModal').style.display=s?'flex':'none'; },
                toggleWatcher(s){ document.getElementById('watcherDrawer').style.right=s?'0':'-100%'; },
                toggleDropdown(id){ const el=document.getElementById(id); ['contactMenu','aiMenu'].forEach(mid=>{if(mid!==id) document.getElementById(mid).classList.remove('active');}); el.classList.toggle('active'); },
                toggleWritingDeck(){ document.getElementById('writingCover').classList.toggle('hidden'); document.getElementById('writingList').classList.toggle('hidden'); },
                activateSearch(){ document.getElementById('searchPill').style.width='240px'; document.getElementById('headerSearchInput').classList.remove('hidden'); document.getElementById('headerSearchInput').focus(); },
                deactivateSearch(){ if(!document.getElementById('headerSearchInput').value){ document.getElementById('headerSearchInput').classList.add('hidden'); document.getElementById('searchPill').style.width='44px'; } },
                updateAuthUI(auth){ if(auth){ document.getElementById('lockIcon').className='ri-shield-user-line text-amber-500'; document.getElementById('adminPostArea').classList.remove('hidden'); document.getElementById('fabPublish').classList.add('visible'); } },
                switchChart(t){ document.getElementById('pieChart').classList.toggle('hidden', t!=='pie'); document.getElementById('trendChart').classList.toggle('hidden', t!=='trend'); document.getElementById('btnPie').className=t==='pie'?'text-[10px] text-amber-500 font-bold transition-colors':'text-[10px] text-white/50 hover:text-amber-500 font-bold transition-colors'; document.getElementById('btnTrend').className=t==='trend'?'text-[10px] text-amber-500 font-bold transition-colors':'text-[10px] text-white/50 hover:text-amber-500 font-bold transition-colors'; }
            },

            api: { 
                getUsage(){ const t=new Date().toDateString(), u=JSON.parse(localStorage.getItem('garden_ai_usage')||'{}'); return u.date!==t?{date:t,count:0}:u; },
                updateUsage(c){ localStorage.setItem('garden_ai_usage', JSON.stringify({date:new Date().toDateString(),count:c})); document.getElementById('aiUsageText').innerText=`${c}/15`; },
                async handleAIInput(e){ if(e.key==='Enter'){ const val=e.target.value.trim(); if(!val) return; const usage=this.getUsage(); if(usage.count>=GardenOS.config.dailyLimit){ this.typewriter("Limit reached.",`ai_${Date.now()}`); e.target.disabled=true; return;} const log=document.getElementById('aiChatLog'); log.innerHTML+=`<div class="mb-2 text-white">> ${val}</div>`; e.target.value=''; const lid=Date.now(); log.innerHTML+=`<div id="r_${lid}" class="text-amber-500 mb-4 opacity-50">Thinking...</div>`; const siteData=JSON.parse(localStorage.getItem(GardenOS.config.storageKey)||'{}'); const context=`[Site Data] Weight:${siteData.status?.weight||'55'}kg. Assets: Funds 700.`; const res=await this.callDeepSeek(val,context); document.getElementById(`r_${lid}`).remove(); const id=Date.now(); log.innerHTML+=`<div id="res_${id}" class="text-amber-500 mb-4 text-xs font-mono"></div>`; this.typewriter(res,`res_${id}`); this.updateUsage(usage.count+1);} },
                async callDeepSeek(p,c){ if(!GardenOS.config.deepSeekApiKey) return "[OFFLINE]"; try{ const r=await fetch('https://api.deepseek.com/chat/completions',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${GardenOS.config.deepSeekApiKey}`},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:c},{role:"user",content:p}]})}); const d=await r.json(); return d.choices[0].message.content; }catch(e){return "Error: "+e.message;} },
                typewriter(t,id){ const el=document.getElementById(id); let i=0; const tm=setInterval(()=>{ if(!el) return clearInterval(tm); el.innerText+=t.charAt(i++); if(i>=t.length) clearInterval(tm); },20); }
            },

            cms: { 
                renderAll(){ /* ç”¨äºå¡«å……èµ„äº§/æ‘„å…¥/å¤‡å¿˜/å†™ä½œç­‰ */ },
                createPost(){ /* å‘å¸ƒé€»è¾‘ï¼Œæ”¯æŒåˆ†åŒºåŠé“¾æ¥ */ }
            }
        };

        window.onload = ()=>{ GardenOS.boot(); };
    </script>
</body>
</html>
